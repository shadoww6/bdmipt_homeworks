Определение 1НФ:
◽ Все значения атомарны (неделимы)
◽ Нет повторяющихся групп
◽ Есть первичный ключ
◽ Каждая ячейка содержит одно значение

Определение 2НФ:
◽ Она в 1НФ
◽ Все неключевые атрибуты полностью функционально зависят от первичного ключа (нет частичной зависимости)

Определение 3НФ:
◽ Она во 2НФ
◽ Нет транзитивных зависимостей (каждый неключевой атрибут должен быть напрямую и только от первичного ключа, а не через другой неключевой атрибут)

___________________________________________________________________

АНАЛИЗ ИСХОДНЫХ ТАБЛИЦ

1. Исходная таблица transaction изначально находилась в 1НФ:
- есть первичный ключ: transaction_id 
- все значения атомарны (нет массивов и списков в ячейках)
- в каждой ячейке одно по смыслу значение
- нет повторящихся групп столбцов

Не находится в 2НФ потому что характеристики продукта (product_line, product_class, product_size, list_price, standard_cost) зависят не от первичного ключа transaction_id, а от набора полей, которые описывают продукт. 
Соответственно, не находится и в 3НФ

2. Исходная таблица customer изначально тоже находилась в 1НФ: первичный ключ customer_id, все значения тоже атомарны, нет групп столбцов и каждая ячейка содежржит одно значение
Не находится в 2НФ потому что информация по адресу (address, postcode, state, country, property_valuation) не зависит от customer_id, а зависит от полной информации по адресу, где-то информация дублируется и может быть записана по-разному, если адрес один.
Соответственно, не находится и в 3НФ

___________________________________________________________________

РЕШЕНИЕ:

1. Из transaction выделила таблицу product
Удалила полные дубликаты строк и создала суррогатный ключ product_unique_id с уникальными значениями. 

Первичный ключ: product_unique_id
Столбцы:                                                                
- product_unique_id (первичный ключ)
- product_id
- brand
- product_line
- product_class
- product_size
- list_price
- standard_cost

Таблица приведена к 3НФ:
◽ все требования 1НФ выполнены
◽ Все атрибуты полностью зависят от product_unique_id
◽ нет зависимостей вида ключ - атрибут1 - атрибут2

2. В таблицу transaction присоединила полученный product_unique_id через свзяку со столбцами с информацией по продукту, а потом эти столбцы удалила, т.к. они больше не нужны. 
Ещё удалила три строчки с customer_id = 5036, т.к. в нашей таблице с клиентами указаны люди только до 4000 и при заливе данных вылезала ошибка несоответствия.

Первичный ключ: transaction_id
Столбцы:
- transaction_id (первичный ключ)
- customer_id (внешний ключ, связка с customer)
- product_unique_id (внедний ключ, связка с product)
- transaction_date
- online_order
- order_status          

Таблица приведена к 3НФ:
◽ все требования 1НФ выполнены
◽ Все атрибуты полностью зависят от transaction_id
◽ нет зависимостей вида ключ - атрибут1 - атрибут2

3. Из customer выделила таблицу address. Удалила полные дубликаты строк и создала суррогатный ключ address_id с уникальными значениями

Первичный ключ: address_id
Столбцы:
- address_id (первичный ключ)
- address
- postcode
- state
- country

Таблица приведена к 3НФ:
◽ все требования 1НФ выполнены
◽ Все атрибуты полностью зависят от address_id
◽ нет зависимостей вида ключ - атрибут1 - атрибут2

4. Из таблицы customer удалила все столбцы с информацией по адресам, добавила столбец с уникальными значениями address_id

Первичный ключ: customer_id

Столбцы:
- customer_id (первичный ключ)
- first_name
- last_name
- gender
- DOB                                        
- job_title
- job_industry_category                 
- wealth_segment                                 
- deceased_indicator
- owns_car                      
- property_valuation  
- address_id (внешний ключ, связка с address)   

Таблица приведена к 3НФ:
◽ все требования 1НФ выполнены
◽ Все атрибуты полностью зависят от address_id
◽ нет зависимостей вида ключ - атрибут1 - атрибут2

___________________________________________________

ИТОГИ

Из двух таблиц customer и transaction, которые изначально находились в 1НФ сделала 4 таблицы: transaction, product, customer, address, которое удалось привести к 3НФ форме
